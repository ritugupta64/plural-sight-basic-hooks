{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ritgupta5\\\\pov\\\\plural-sight-basic-hooks\\\\src\\\\components\\\\onScrollComponent\\\\onScrollComponent.js\";\nvar __jsx = React.createElement;\nimport React, { useEffect, useState, useRef } from 'react';\n\nconst OnPageScroll = ({\n  primary,\n  secondary\n}) => {\n  const imgRef = useRef(null);\n  useEffect(() => {\n    window.addEventListener('scroll', scrollHandler); // setInView(isInView())\n\n    return () => {\n      return window.removeEventListener('scroll', scrollHandler);\n    };\n  });\n  const {\n    0: inView,\n    1: setInView\n  } = useState(false);\n\n  const isInView = () => {\n    if (imgRef.current) {\n      const react = imgRef.current.getBoundingClientRect();\n      return react.top >= 0 && react.bottom <= window.innerHeight;\n    }\n\n    return false;\n  };\n\n  const scrollHandler = () => {\n    setInView(() => {\n      return isInView();\n    });\n  };\n\n  return __jsx(React.Fragment, null, __jsx(\"img\", {\n    src: inView ? primary : secondary,\n    width: \"200\",\n    height: \"200\",\n    ref: imgRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 6\n    }\n  }));\n};\n\nexport { OnPageScroll };","map":{"version":3,"sources":["C:/Users/ritgupta5/pov/plural-sight-basic-hooks/src/components/onScrollComponent/onScrollComponent.js"],"names":["React","useEffect","useState","useRef","OnPageScroll","primary","secondary","imgRef","window","addEventListener","scrollHandler","removeEventListener","inView","setInView","isInView","current","react","getBoundingClientRect","top","bottom","innerHeight"],"mappings":";;AAAA,OAAOA,KAAP,IAAeC,SAAf,EAA0BC,QAA1B,EAAoCC,MAApC,QAAiD,OAAjD;;AAGA,MAAMC,YAAY,GAAG,CAAC;AAACC,EAAAA,OAAD;AAAUC,EAAAA;AAAV,CAAD,KAA0B;AAC5C,QAAMC,MAAM,GAAGJ,MAAM,CAAC,IAAD,CAArB;AACCF,EAAAA,SAAS,CAAC,MAAM;AAEZO,IAAAA,MAAM,CAACC,gBAAP,CAAwB,QAAxB,EAAkCC,aAAlC,EAFY,CAGV;;AACF,WAAM,MAAM;AACR,aAAOF,MAAM,CAACG,mBAAP,CAA2B,QAA3B,EAAqCD,aAArC,CAAP;AACH,KAFD;AAGH,GAPQ,CAAT;AASA,QAAM;AAAA,OAACE,MAAD;AAAA,OAASC;AAAT,MAAsBX,QAAQ,CAAC,KAAD,CAApC;;AAEA,QAAMY,QAAQ,GAAG,MAAM;AAClB,QAAGP,MAAM,CAACQ,OAAV,EAAkB;AACf,YAAMC,KAAK,GAAGT,MAAM,CAACQ,OAAP,CAAeE,qBAAf,EAAd;AACA,aAAOD,KAAK,CAACE,GAAN,IAAa,CAAb,IAAkBF,KAAK,CAACG,MAAN,IAAgBX,MAAM,CAACY,WAAhD;AACF;;AACD,WAAO,KAAP;AACJ,GAND;;AAQA,QAAMV,aAAa,GAAG,MAAM;AACxBG,IAAAA,SAAS,CAAC,MAAM;AACZ,aAAOC,QAAQ,EAAf;AACH,KAFQ,CAAT;AAGH,GAJD;;AAMA,SAAO,4BACN;AAAK,IAAA,GAAG,EAAEF,MAAM,GAAGP,OAAH,GAAaC,SAA7B;AAAwC,IAAA,KAAK,EAAC,KAA9C;AAAoD,IAAA,MAAM,EAAC,KAA3D;AAAiE,IAAA,GAAG,EAAEC,MAAtE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADM,CAAP;AAGH,CA9BD;;AAgCA,SAAQH,YAAR","sourcesContent":["import React, {useEffect, useState, useRef} from 'react';\r\n\r\n\r\nconst OnPageScroll = ({primary, secondary}) => {\r\n   const imgRef = useRef(null)\r\n    useEffect(() => {\r\n\r\n        window.addEventListener('scroll', scrollHandler);\r\n          // setInView(isInView())\r\n        return() => {\r\n            return window.removeEventListener('scroll', scrollHandler)\r\n        }\r\n    })\r\n\r\n    const [inView, setInView] = useState(false)\r\n\r\n    const isInView = () => {\r\n         if(imgRef.current){\r\n            const react = imgRef.current.getBoundingClientRect();\r\n            return react.top >= 0 && react.bottom <= window.innerHeight\r\n         }\r\n         return false\r\n    }\r\n\r\n    const scrollHandler = () => {\r\n        setInView(() => {\r\n            return isInView()\r\n        })\r\n    }\r\n \r\n    return <>\r\n     <img src={inView ? primary : secondary} width=\"200\" height=\"200\" ref={imgRef}/>\r\n     </>\r\n}\r\n\r\nexport {OnPageScroll}"]},"metadata":{},"sourceType":"module"}